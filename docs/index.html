<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>AssetPicker</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css">
        <link rel="stylesheet" href="http://rawgit.com/abodelot/jquery.json-viewer/v1.1.0/json-viewer/jquery.json-viewer.css">
        <style type="text/css">
            a.json-toggle.collapsed:before {
                font-size: 10px;
                top: -1px;
                left:-11px;
            }
            body {
                padding-top:65px;
            }
            .container {
                max-width:860px;
            }
            .jumbotron {
                margin: 0;
            }
            #result {
                border-top-left-radius: 0;
                border-top-right-radius: 0;
                border-width: 1px 0 0;
                padding-left:60px;
                margin-bottom: 30px;
            }
        </style>
        <!--<script src="../dist/js/picker.min.js"></script>-->
        <script>
            document.write('\x3Cscript type="text/javascript" src="' + (document.location.hostname === 'localhost' ? '../dist/js/picker.min.js' : 'https://rawgit.com/netresearch/assetpicker/master/dist/js/picker.min.js') + '">\x3C/script>');
        </script>

        <script>
            var onPick = function(pick) {
                $('#result').jsonViewer(pick).find('> * > li > a').click();
            };
            var picker = new AssetPicker({
                storages: {
                    assetpicker: {
                        label: 'AssetPicker',
                        adapter: 'github',
                        username: 'netresearch',
                        repository: 'assetpicker'
                    },
                    entermediaDB: {
                        label: 'EnterMediaDB Demo',
                        adapter: 'entermediadb',
                        url: 'http://em9.entermediadb.org/openinstitute',
                        proxy: true
                    }
                },
                proxy: {
                    url: 'https://fierce-fortress-84430.herokuapp.com/{{url.raw}}',
                    credentials: true
                },
                language: 'en'
            });
            picker.on('pick', onPick);
            var picker2 = new AssetPicker({
                title: 'Another Storage',
                storages: {
                    kite: {
                        label: 'Kite',
                        adapter: 'github',
                        username: 'netresearch',
                        repository: 'kite'
                    }
                }
            }, {selector: '[rel="assetpicker2"]'});
            picker2.on('pick', onPick);
        </script>
    </head>
    <body>

    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#"><img src="img/n.png" height="24" alt="Netresearch" title="Netresearch"></a>
                <a class="navbar-brand" href="#">AssetPicker</a>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#features">Features</a></li>
                    <li><a href="#principles">Principles</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="jumbotron">
            <h2>AssetPicker</h2>
            <p>A free, easy to use, cross plattform ready asset or file picker.</p>
            <div class="btn-group">
                <button class="btn btn-primary" rel="assetpicker" data-name="hiddenInputDefault">Try it and pick an asset</button>
                <a href="#" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#" rel="assetpicker" data-ext="js,json">JS or JSON files</a></li>
                    <li><a href="#" rel="assetpicker" data-ext="jpg,jpeg,gif,png">Images</a></li>
                    <li><a href="#" rel="assetpicker" data-limit="0">Multiple files</a></li>
                    <li><a href="#" rel="assetpicker" data-limit="2">Max 2 files</a></li>
                    <li><a href="#" rel="assetpicker" data-types="dir">Folder</a></li>
                    <li class="divider"></li>
                    <li><a href="#" rel="assetpicker2" data-name="hiddenInputOther">Use another storage</a></li>
                </ul>
            </div>
        </div>
        <pre id="result">Pick an asset to see the result</pre>
        <h4 id="features">Features</h4>
        <hr>
        <dl>
            <dt>Easy integration</dt>
            <dd>Just include the tiny picker script (~10kb) from anywhere (f.i. a CDN) and it will care for the rest - until the pick button is clicked no additional sources will be loaded. Also it doesn't require or exclude any third party libraries to work but works in plain javascript.</dd>
            <dt>Easy usage</dt>
            <dd>Its modern interface is based on common file selector interfaces like the Windows native</dd>
            <dt>Cross plattform support</dt>
            <dd>AssetPicker is designed to work with assets from any source - be it cloud storages like Amazon S3, Google Drive or Dropbox or assets from a custom web application server</dd>
            <dd>In opposite to other file managers or pickers, AssetPicker is suitable for hierarchical as well as associative file storages and you can use one or many of them.</dd>
            <dt>Search</dt>
            <dd>AssetPicker can search recursively loaded hierarchical structures or utilize remote search endpoints. The results will be in one place.</dd>
            <dt>Authentication</dt>
            <dd>Its platform adapters utilize a built in login system to authenticate with remote storages - no need to care about that.</dd>
            <dt>Proxy support</dt>
            <dd>AssetPicker is directly working with the remote storages and thus requires them to support CORS. Anyway some systems don't do that and so the requests need to proxied - AssetPicker ships with a simple PHP-Proxy, easy to setup </dd>
            <dt>Customization</dt>
            <dd>The picker script loads the file browser into an iframe inside a modal - the template and styles of that can be changed by according options. The file browser can be customized by building it on your own.</dd>
        </dl>
        <h4 id="principles">Principles</h4>
        <hr>
        <p>The AssetPicker consists of two bundles: The <em>picker</em> and the <em>app</em>. The <em>picker</em> is a lightweight script which is to be included into the application which you want to use the picker. It prepares the stage for the app, for which it creates a customizable modal with an iframe and registers itself for the picker button based on the configured selector. When one of these buttons is clicked, it will load the app into the iframe and establish the communication with it (for which cross window messaging is used which enables you to load the script from any other domain without security problems).</p>
        <p>The <em>app</em> provides the actual user interface and functionality. It has a default configuration which will be merged with the configuration passed to the picker. The key part of this configuration are the storages, which will be mounted as top level entries on the navigation bar (and on the start screen when you use multiple storages). Each of the storages can have a separate configuration and use other <em>adapters</em>.</p>
        <p>The <em>adapters</em> abstract the access to remote storages. They can or have to be configured along with the storage configuration by which you can pass f.i. details like user ids, tokens etc. There are some shipped by default but you can also add your own adapters.</p>
    </div>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="http://rawgit.com/abodelot/jquery.json-viewer/v1.1.0/json-viewer/jquery.json-viewer.js"></script>
    </body>
</html>
